% treasures build up...
%
% Gang Liang

\usepackage{amsmath,amssymb,amsthm}
\usepackage{ifthen,ifpdf}
\usepackage{ulem}                     % various underline (decoration) commands
\usepackage{enumitem}                 % fine control over list environments
\usepackage{listings}

% include graphics packages
\ifpdf
  \usepackage[pdftex]{graphicx}
  \usepackage[pdftex,usenames]{color}
  \usepackage[pdftex,margin=1in]{geometry}
  \DeclareGraphicsExtensions{.pdf,.eps}
  \usepackage{epstopdf}
  \usepackage[pdftex,bookmarks=true,bookmarksnumbered=true,breaklinks=true]{hyperref}
  \newcommand{\pdftitle}{}            % renew the command if necessary
  \usepackage{myinfo}
  \pdfcompresslevel=9
\else
  \usepackage[dvips]{graphicx}
  \usepackage[dvips,usenames]{color}
  \usepackage[dvips,margin=1in]{geometry}
  \usepackage{pslatex}
  \usepackage[ps2pdf]{hyperref}
\fi


% operators
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\Cov}{\operatorname{Cov}}
\newcommand{\cov}{\operatorname{cov}}
\newcommand{\Var}{\operatorname{Var}}
\newcommand{\var}{\operatorname{var}}
\newcommand{\Corr}{\operatorname{Corr}}
\newcommand{\corr}{\operatorname{corr}}
\newcommand{\MSE}{\operatorname{MSE}}
\newcommand{\E}{\operatorname{E}}
\newcommand{\SE}{\operatorname{SE}}
\newcommand{\SD}{\operatorname{SD}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\avg}{\operatornamewithlimits{avg}}

% Latin
\newcommand{\etal}{\textsl{et~al}}
\newcommand{\etc}{\textsl{etc}}
\newcommand{\ie}{\textsl{i.e.}}
\newcommand{\eg}{\textsl{e.g.}}
\newcommand{\iid}{{i.i.d.}}

% some fonts commands
%   example: \calA --> \mathcal{A}
\makeatletter\newcommand{\newstyles}[1]{%
  \expandafter\protected@edef\csname  bb#1\endcsname{\mathbb{#1}}
  \expandafter\protected@edef\csname  bf#1\endcsname{\mathbf{#1}}
  \expandafter\protected@edef\csname  rm#1\endcsname{\mathrm{#1}}
  \expandafter\protected@edef\csname cal#1\endcsname{\mathcal{#1}}
  \expandafter\protected@edef\csname pmb#1\endcsname{\pmb{#1}}
}\makeatother
\newcounter{n}\setcounter{n}{1}
\whiledo{\value{n}<27}{
  \newstyles{\Alph{n}}
  \newstyles{\alph{n}}
  \stepcounter{n}
}

% overlay operators (convergence operators)
\newcommand{\cid}{\overset{d}{\longrightarrow}}
\newcommand{\cil}{\overset{\calL}{\longrightarrow}}
\newcommand{\cip}{\overset{\rmP}{\longrightarrow}}
\newcommand{\defas}{\stackrel{\triangle}{=}}

% theorem environments
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{exercise}{Exercise}

% some commonly used symbols
\newcommand{\half}{\frac{1}{2}}
\newcommand{\onethird}{\frac{1}{3}}
\newcommand{\quarter}{\frac{1}{4}}

% delimiter pairs
% most parts stolen from Jeff Erickson (jeffe@cs.uiuc.edu)
\def\Paren#1{\left( #1 \right)}
\def\Brack#1{\left[ #1 \right]}
\def\floor#1{\lfloor #1 \rfloor}
\def\Floor#1{\left\lfloor #1 \right\rfloor}
\def\seq#1{\langle #1 \rangle}
\def\Seq#1{\left\langle #1 \right\rangle}
\def\set#1{\{ #1 \}}
\def\Set#1{\left\{ #1 \right\}}
\def\abs#1{\mathopen| #1 \mathclose|}
\def\Abs#1{\left| #1 \right|}
\def\ceil#1{\lceil #1 \rceil}
\def\Ceil#1{\left\lceil #1 \right\rceil}
\def\norm#1{\mathopen\| #1 \mathclose\|}
\def\Norm#1{\left\| #1 \right\|}
\def\inner#1{\left\langle #1 \right\rangle}
\newcommand{\mychoose}[2]{ {{#1}\choose {#2}} }

% some robust character definitions
\chardef\lcur=`\{
\chardef\rcur=`\}

% some box definition: \mybox, \textbox
\def\textbox#1{\fbox{\parbox{\textwidth}{#1}}}
\newcommand{\mybox}[5]{
   \noindent
   \begin{center}
   \framebox{
      \vbox{\vspace{2mm}
      \hbox to 6.28in { {\textbf{#2}} \hfill {#3}}
      \begin{center}
        {\textbf{\Large {#1}}}
      \end{center}
      \hbox to 6.28in { {#4} \hfill {#5} }
      \vspace{2mm}}
   }
   \end{center}
   \vspace*{4mm}
}

\definecolor{MyRed}{rgb}{0.6,0,0}
\definecolor{MyBlue}{rgb}{0,0.2,0.4}
\definecolor{MyDarkBlue}{rgb}{0.1,0,0.55}
\definecolor{MyLightMagenta}{cmyk}{0.1,0.8,0,0.1}

% define the new subfloatenv environment
% asymptote & pstrick
\makeatletter
\newsavebox{\sfe@box}
\newenvironment{subfloatenv}[1]{%
\def\sfe@caption{#1}%
\setbox\sfe@box\hbox\bgroup\color@setgroup}%
{\color@endgroup\egroup\subfloat[\sfe@caption]%
{\usebox{\sfe@box}}}
\makeatother
